"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[8220],{92201:function(e,r,i){var t=i(29439),n=i(72791),o=i(55705),d=i(64554),s=i(94721),a=i(61889),l=i(94294),p=i(59434),c=i(26727),u=(i(96077),i(61044)),x=i(21830),g=i.n(x),m=i(57689),h=i(80184);r.Z=function(){var e=(0,m.s0)(),r=((0,p.I0)(),(0,n.useState)(null)),i=(0,t.Z)(r,2),x=(i[0],i[1],(0,n.useState)(JSON.parse(String(localStorage.getItem("category_list")))||[])),y=(0,t.Z)(x,2),f=y[0],j=y[1],b=((0,p.v9)((function(e){return e.home.token})),(0,n.useState)(null)),v=(0,t.Z)(b,2),_=v[0],S=v[1],Z=(0,n.useState)([]),P=(0,t.Z)(Z,2),w=P[0],z=P[1],q=(0,n.useState)(""),R=(0,t.Z)(q,2),T=R[0],k=R[1],N=(0,n.useState)({name:"",product_type:"",description:"",sku:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null}),B=(0,t.Z)(N,2),I=(B[0],B[1],(0,n.useState)(JSON.parse(String(localStorage.getItem("product_list")))||[])),C=(0,t.Z)(I,2);C[0],C[1];(0,n.useEffect)((function(){D()}));var A=function(r,i){setTimeout((function(){k("")}),2e3);try{console.log(_,"img");var t=new FormData;t.append("name",r.name),t.append("product_type",1),t.append("description",r.description),t.append("price",r.price),t.append("offer_price",r.offer_price),t.append("category_id[]",r.category_id),t.append("features_image",_),t.append("stock",r.stock),t.append("size","L"),t.append("attribute_value_id[]",r.size);var n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.ZP.post("https://loofer.bellazza.in/api/admin/product_create",t,n).then((function(r){200==r.status?(k("Product added successfully"),g().fire({title:"Product Status",text:"Product added successfully",icon:"success"}),setTimeout((function(){e("/dashboard/productlist")}),1e3)):g().fire({title:"Product Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:r})})).catch((function(e){console.error({err:e})}))}catch(o){console.error("Error:",o)}},D=(c.Ry({name:c.Z_().required("name is required"),product_type:c.Z_().required("product_type is required"),description:c.Z_().required("description is required"),sku:c.Rx().required("sku is required"),category:c.Z_().required("category is required"),price:c.Rx().required("price is required"),offer_price:c.Rx().required("offer_price is required"),quantity:c.Rx().required("quantity is required"),category_id:c.Rx().required("category_id is required")}),function(){var e={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/categories",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.map((function(e){r.push(e)})),j(r),console.log({res:e})):g().fire({title:"Category Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})})),fetch("https://loofer.bellazza.in/api/admin/get_all_attributes",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.data.map((function(e){"size"==(null===e||void 0===e?void 0:e.type)&&r.push(e)})),z(r),console.log({res:e})):g().fire({title:"Attribute Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})}))});return console.log("dataArray",f),(0,h.jsx)(o.J9,{initialValues:{name:"",product_type:"",description:"",stock:"",size:"",category:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null},onSubmit:function(e){for(var r=0;r<1;r++)A(e)},children:function(e){var r=e.errors;e.setFieldValue;return(0,h.jsx)(o.l0,{encType:"multipart/form-data",children:(0,h.jsx)(d.Z,{style:{padding:10},children:(0,h.jsxs)(d.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,h.jsx)("h2",{children:"Add New Product"}),(0,h.jsx)(s.Z,{style:{marginTop:20,marginBottom:20}}),(0,h.jsxs)(a.ZP,{container:!0,style:{padding:10},spacing:4,children:[T&&(0,h.jsx)("div",{style:{color:"green",marginBottom:10},children:T}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"name",type:"text",placeholder:"Name",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.name?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"name",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"product_type",type:"text",placeholder:"product Code",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.product_type?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"product_type",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"description",as:"textarea",rows:"10",type:"text",placeholder:"description",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"description",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"stock",type:"text",placeholder:"Stock",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.stock?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"stock",component:"div",style:{color:"red",fontSize:12}})]}),console.log("attributes",w),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsxs)(o.gN,{name:"size",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.size?"2px solid red":"1px solid",marginTop:10},children:[(0,h.jsx)("option",{value:""}),w.map((function(e){return(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))]}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"price",type:"text",placeholder:"PRICE",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"price",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"offer_price",type:"text",placeholder:"Sale Price",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.offer_price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"offer_price",component:"div",style:{color:"red",fontSize:12}})]})," ",(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(o.gN,{name:"quantity",type:"text",placeholder:"Quantity",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.quantity?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"quantity",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsxs)(o.gN,{name:"category_id",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.category_id?"2px solid red":"1px solid",marginTop:10},children:[(0,h.jsx)("option",{value:"",children:"Select"}),f.map((function(e){var r;return(0,h.jsxs)("option",{value:e.id,children:[e.name," (",null===e||void 0===e||null===(r=e.parent)||void 0===r?void 0:r.name,")"]})}))]}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)("input",{name:"features_image",type:"file",value:void 0,onChange:function(e){S(e.target.files[0])}}),(0,h.jsx)("br",{}),(0,h.jsx)(o.Bc,{name:"features_image",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsx)(a.ZP,{item:!0,xs:12,lg:6}),(0,h.jsx)(a.ZP,{item:!0,xs:12,lg:3,children:(0,h.jsx)(l.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Save"})})]})]})})})}})}},8220:function(e,r,i){i.r(r),i.d(r,{default:function(){return j}});var t=i(72791),n=(i(92201),i(29439)),o=i(55705),d=i(26727),s=i(64554),a=i(94721),l=i(61889),p=i(94294),c=i(96077),u=i(59434),x=i(6168),g=i(95621),m=i(69532),h=(i(21830),i(57689)),y=i(80184),f=function(){(0,h.s0)();var e=(0,t.useState)(JSON.parse(String(localStorage.getItem("category_list")))||[]),r=(0,n.Z)(e,2),i=r[0],f=r[1],j=(0,u.I0)();(0,t.useEffect)((function(){_()}),[]);var b=function(e,r){var i=new FormData;i.append("name",e.name),i.append("slug",e.slug),i.append("description",e.description),i.append("parent_id",e.parent_id),i.append("image",e.image),j((0,c.aE)(i)),console.log(e)},v=d.Ry().shape({name:d.Z_().required("Name is required"),slug:d.Z_().required("Slug is required"),description:d.Z_().required("Description is required"),image:d.Z_().required("Image URL is required")}),_=function(){var e={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/categories",e).then((function(e){return e.json()})).then((function(e){var r=[];e&&(e.map((function(e){r.push(e)})),f(r),console.log({res:e}))})).catch((function(e){console.error({err:e})}))};return(0,y.jsx)(o.J9,{initialValues:{name:"",slug:"",description:"",parent_id:"",image:""},onSubmit:function(e){for(var r=0;r<1;r++)b(e)},validationSchema:v,children:function(e){var r=e.errors;return(0,y.jsx)(o.l0,{children:(0,y.jsx)(s.Z,{style:{padding:10},children:(0,y.jsxs)(s.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,y.jsx)("h2",{children:"Add New Category"}),(0,y.jsx)(a.Z,{style:{marginTop:20,marginBottom:20}}),(0,y.jsxs)(l.ZP,{container:!0,style:{padding:10},spacing:4,children:[(0,y.jsxs)(l.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(o.gN,{name:"name",type:"text",placeholder:"Name",style:{padding:10,width:"100%",borderRadius:5,border:r.name?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),r.name?(0,y.jsx)("span",{style:{color:"red",fontSize:12},children:r.name}):null]}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(o.gN,{name:"slug",type:"text",placeholder:"Slug",style:{padding:10,width:"100%",borderRadius:5,border:r.slug?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),r.slug?(0,y.jsx)("span",{style:{color:"red",fontSize:12},children:r.slug}):null]}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(o.gN,{name:"description",type:"text",as:"textarea",rows:"10",placeholder:"Description",style:{padding:10,width:"100%",borderRadius:5,border:r.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),r.description?(0,y.jsx)("span",{style:{color:"red",fontSize:12},children:r.description}):null]}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(x.Z,{htmlFor:"parent_id",children:"Parent ID"}),(0,y.jsx)(o.gN,{as:g.Z,style:{padding:5,width:"100%",borderRadius:5,border:r.description?"2px solid red":"1px solid",marginTop:5},name:"parent_id",label:"Parent ID",error:!!r.parent_id,children:i.map((function(e){return(0,y.jsx)(m.Z,{value:e.id,children:(0,y.jsxs)("em",{children:[e.name," ",e.parent?(0,y.jsxs)("span",{children:["(",e.parent.name,")"]}):""," "]})})}))})]}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(o.gN,{name:"image",value:void 0,type:"file",placeholder:"Image",onChange:function(r){e.setFieldValue("image",r.currentTarget.files[0])},style:{padding:10,width:"100%",borderRadius:5,border:r.image?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),r.image?(0,y.jsx)("span",{style:{color:"red",fontSize:12},children:r.image}):null]}),(0,y.jsx)(l.ZP,{item:!0,xs:12,lg:6}),(0,y.jsx)(l.ZP,{item:!0,xs:12,lg:3,children:(0,y.jsx)(p.Z,{type:"submit",style:{backgroundColor:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Save"})})]})]})})})}})},j=function(){return(0,y.jsx)("div",{children:(0,y.jsx)(f,{})})}}}]);
//# sourceMappingURL=8220.feab9d00.chunk.js.map