"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[6817],{6817:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(74165),i=t(15861),s=t(1413),a=t(29439),o=t(72791),l=t(55705),c=t(64554),d=t(94721),p=t(61889),u=t(94294),x=t(61044),g=t(21830),h=t.n(g),f=t(80184),m=function(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],g=(n[1],(0,o.useState)(JSON.parse(String(localStorage.getItem("banner_list")))||[])),m=(0,a.Z)(g,2),b=m[0],j=m[1],y=function(e,n){var t=[];(t=JSON.parse(String(localStorage.getItem("banner_list")))||[]).push((0,s.Z)((0,s.Z)({},e),{},{id:1*t.length+1})),j(t),localStorage.setItem("banner_list",JSON.stringify(b)),2==n&&h().fire({title:"Banner Saved",text:"You can close this window",icon:"success"})},Z=o.createRef(),w=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i=n.target.files[0],(s=new FormData).append("image",i),s.append("description",t),a={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}},x.ZP.post("https://loofer.bellazza.in/api/admin/banners",s,a).then((function(e){console.log({res:e})})).catch((function(e){console.error({err:e})}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsx)(l.J9,{initialValues:{image:"",description:""},onSubmit:function(e){for(var n=0;n<3;n++)y(e,n)},children:function(e){var n=e.errors;e.setFieldValue;return(0,f.jsx)(l.l0,{children:(0,f.jsx)(c.Z,{style:{padding:10},children:(0,f.jsxs)(c.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,f.jsx)("h2",{children:"Add New Banner"}),(0,f.jsx)(d.Z,{style:{marginTop:20,marginBottom:20}}),(0,f.jsxs)(p.ZP,{container:!0,style:{padding:10},spacing:4,children:[(0,f.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:(0,f.jsxs)(c.Z,{mt:1,mb:1,sx:{border:"1px dashed #E61855",background:"#FDF5F7",borderRadius:5,"& .MuiInput-underline:before":{borderBottom:"none"}},onClick:function(){return Z.current.click()},children:[(0,f.jsx)(c.Z,{display:"flex",alignItems:"center",justifyContent:"center",style:{padding:62},children:(0,f.jsxs)(c.Z,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)("span",{one:!0,style:{color:"rgba(0, 50, 91, 0.5)",fontWeight:600},children:"Drag and drop or"}),(0,f.jsx)("span",{style:{color:"#E61855",marginLeft:5},children:"Browse"})]})}),(0,f.jsx)("input",{ref:Z,type:"file",accept:"image/*",hidden:!0,onChange:w})]})}),(0,f.jsxs)(p.ZP,{item:!0,xs:12,lg:6,children:[(0,f.jsx)(l.gN,{name:"description",type:"text",placeholder:"Description",style:{padding:10,width:"100%",borderRadius:5,border:n.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,f.jsx)("br",{}),n.description?(0,f.jsx)("span",{style:{color:"red",fontSize:12},children:n.description}):null]}),(0,f.jsx)(p.ZP,{item:!0,xs:12,lg:3,children:(0,f.jsx)(u.Z,{type:"submit",style:{background:"rgb(25, 118, 210)",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Upload"})})]})]})})})}})},b=function(){return(0,f.jsx)("div",{children:(0,f.jsx)(m,{})})}}}]);
//# sourceMappingURL=6817.1b2105ff.chunk.js.map