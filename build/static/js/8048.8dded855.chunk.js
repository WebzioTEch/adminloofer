"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[8048],{92201:function(e,r,t){var i=t(29439),o=t(72791),n=t(55705),d=t(64554),s=t(94721),a=t(61889),l=t(94294),p=t(59434),c=t(26727),u=(t(96077),t(61044)),x=t(21830),g=t.n(x),m=t(57689),h=t(80184);r.Z=function(){var e=(0,m.s0)(),r=((0,p.I0)(),(0,o.useState)(null)),t=(0,i.Z)(r,2),x=(t[0],t[1],(0,o.useState)(JSON.parse(String(localStorage.getItem("category_list")))||[])),y=(0,i.Z)(x,2),f=y[0],j=y[1],b=((0,p.v9)((function(e){return e.home.token})),(0,o.useState)(null)),v=(0,i.Z)(b,2),_=v[0],Z=v[1],P=(0,o.useState)([]),S=(0,i.Z)(P,2),w=S[0],z=S[1],q=(0,o.useState)(""),k=(0,i.Z)(q,2),R=k[0],T=k[1],N=(0,o.useState)({name:"",product_type:"",description:"",sku:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null}),B=(0,i.Z)(N,2),C=(B[0],B[1],(0,o.useState)(JSON.parse(String(localStorage.getItem("product_list")))||[])),I=(0,i.Z)(C,2);I[0],I[1];(0,o.useEffect)((function(){E()}));var A=function(r,t){setTimeout((function(){T("")}),2e3);try{console.log(_,"img");var i=new FormData;i.append("name",r.name),i.append("product_type",1),i.append("description",r.description),i.append("price",r.price),i.append("offer_price",r.offer_price),i.append("category_id[]",r.category_id),i.append("features_image",_),i.append("stock",r.stock),i.append("size","L"),i.append("attribute_value_id[]",r.size);var o={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.ZP.post("https://loofer.bellazza.in/api/admin/product_create",i,o).then((function(r){200==r.status?(T("Product added successfully"),g().fire({title:"Product Status",text:"Product added successfully",icon:"success"}),setTimeout((function(){e("/dashboard/productlist")}),1e3)):g().fire({title:"Product Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:r})})).catch((function(e){console.error({err:e})}))}catch(n){console.error("Error:",n)}},E=(c.Ry({name:c.Z_().required("name is required"),product_type:c.Z_().required("product_type is required"),description:c.Z_().required("description is required"),sku:c.Rx().required("sku is required"),category:c.Z_().required("category is required"),price:c.Rx().required("price is required"),offer_price:c.Rx().required("offer_price is required"),quantity:c.Rx().required("quantity is required"),category_id:c.Rx().required("category_id is required")}),function(){var e={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/categories",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.map((function(e){r.push(e)})),j(r),console.log({res:e})):g().fire({title:"Category Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})})),fetch("https://loofer.bellazza.in/api/admin/get_all_attributes",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.data.map((function(e){"size"==(null===e||void 0===e?void 0:e.type)&&r.push(e)})),z(r),console.log({res:e})):g().fire({title:"Attribute Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})}))});return console.log("dataArray",f),(0,h.jsx)(n.J9,{initialValues:{name:"",product_type:"",description:"",stock:"",size:"",category:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null},onSubmit:function(e){for(var r=0;r<1;r++)A(e)},children:function(e){var r=e.errors;e.setFieldValue;return(0,h.jsx)(n.l0,{encType:"multipart/form-data",children:(0,h.jsx)(d.Z,{style:{padding:10},children:(0,h.jsxs)(d.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,h.jsx)("h2",{children:"Add New Product"}),(0,h.jsx)(s.Z,{style:{marginTop:20,marginBottom:20}}),(0,h.jsxs)(a.ZP,{container:!0,style:{padding:10},spacing:4,children:[R&&(0,h.jsx)("div",{style:{color:"green",marginBottom:10},children:R}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"name",type:"text",placeholder:"Name",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.name?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"name",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"product_type",type:"text",placeholder:"product Code",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.product_type?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"product_type",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"description",as:"textarea",rows:"10",type:"text",placeholder:"description",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"description",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"stock",type:"text",placeholder:"Stock",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.stock?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"stock",component:"div",style:{color:"red",fontSize:12}})]}),console.log("attributes",w),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsxs)(n.gN,{name:"size",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.size?"2px solid red":"1px solid",marginTop:10},children:[(0,h.jsx)("option",{value:""}),w.map((function(e){return(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))]}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"price",type:"text",placeholder:"PRICE",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"price",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"offer_price",type:"text",placeholder:"Sale Price",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.offer_price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"offer_price",component:"div",style:{color:"red",fontSize:12}})]})," ",(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(n.gN,{name:"quantity",type:"text",placeholder:"Quantity",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.quantity?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"quantity",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsxs)(n.gN,{name:"category_id",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.category_id?"2px solid red":"1px solid",marginTop:10},children:[(0,h.jsx)("option",{value:"",children:"Select"}),f.map((function(e){var r;return(0,h.jsxs)("option",{value:e.id,children:[e.name," (",null===e||void 0===e||null===(r=e.parent)||void 0===r?void 0:r.name,")"]})}))]}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)("input",{name:"features_image",type:"file",value:void 0,onChange:function(e){Z(e.target.files[0])}}),(0,h.jsx)("br",{}),(0,h.jsx)(n.Bc,{name:"features_image",component:"div",style:{color:"red",fontSize:12}})]}),(0,h.jsx)(a.ZP,{item:!0,xs:12,lg:6}),(0,h.jsx)(a.ZP,{item:!0,xs:12,lg:3,children:(0,h.jsx)(l.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Save"})})]})]})})})}})}},78048:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});t(72791),t(92201);var i=t(74165),o=t(15861),n=t(55705),d=t(64554),s=t(94721),a=t(61889),l=t(94294),p=t(59434),c=(t(26727),t(21830)),u=t.n(c),x=t(80184),g=function(){(0,p.I0)();var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("name",r.name),t.append("email",r.email),t.append("password",r.password),t.append("phone",r.mobile),o={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:t},console.log("body is this",t.get("name")),fetch("https://loofer.bellazza.in/api/admin/add_user",o).then((function(e){console.log("data",e),200==e.status&&u().fire({title:"Create User  Status",text:"User Created",icon:"success"})}));case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsx)(n.J9,{initialValues:{name:"",email:"",password:"",mobile:""},onSubmit:function(r){for(var t=0;t<1;t++)e(r)},children:function(e){e.errors,e.setFieldValue;return(0,x.jsx)(n.l0,{children:(0,x.jsx)(d.Z,{style:{padding:10},children:(0,x.jsxs)(d.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,x.jsx)("h2",{children:"Add New Customer"}),(0,x.jsx)(s.Z,{style:{marginTop:20,marginBottom:20}}),(0,x.jsxs)(a.ZP,{container:!0,style:{padding:10},spacing:4,children:[(0,x.jsx)(a.ZP,{item:!0,xs:12,lg:6,children:(0,x.jsx)(n.gN,{name:"name",type:"text",placeHolder:"Name",style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,lg:6,children:(0,x.jsx)(n.gN,{name:"email",type:"text",placeHolder:"Email",style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,lg:6,children:(0,x.jsx)(n.gN,{name:"password",type:"password",placeHolder:"Password",style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,lg:6,children:(0,x.jsx)(n.gN,{name:"mobile",type:"text",placeHolder:"Mobile",style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,x.jsx)(a.ZP,{item:!0,xs:12,lg:3,children:(0,x.jsx)(l.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Proceed"})})]})]})})})}})},m=function(){return(0,x.jsx)("div",{children:(0,x.jsx)(g,{})})}}}]);
//# sourceMappingURL=8048.8dded855.chunk.js.map