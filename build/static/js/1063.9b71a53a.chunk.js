"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[1063],{99876:function(e,t,o){o.d(t,{Z:function(){return u}});var n=o(29439),r=o(72791),i=o(64554),a=o(95966),l=o(59434),c=(o(96077),o(61044),o(80184)),d=[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",width:150,editable:!0},{field:"email",headerName:"Email",width:150,editable:!0},{field:"created_at",headerName:"Created At",type:"number",width:110,editable:!0}];function u(){(0,l.I0)();var e=(0,r.useState)([]),t=(0,n.Z)(e,2),o=t[0],u=t[1];(0,r.useEffect)((function(){console.log(localStorage.getItem("token"),"customer token");"Bearer ".concat(localStorage.getItem("token"));fetch("https://loofer.bellazza.in/api/admin/all_users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var t=[];e&&(e.users.map((function(e){t.push(e)})),u(t),console.log({res:e}))})).catch((function(e){console.error({err:e})}))}),[]);var s,h=(s=o,console.log(s,"data"),s&&Array.isArray(s)&&s.length>0?s.map((function(e){return{id:(null===e||void 0===e?void 0:e.id)||Math.floor((new Date).getTime()),name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,created_at:new Date(e.created_at).toDateString()}})):[{id:1,name:"Snow",email:"Jon",created_at:""}]);return(0,c.jsx)(i.Z,{sx:{height:400,width:"100%"},children:(0,c.jsx)(a._$,{rows:o.length?o:h,columns:d,getRowId:function(e){return e.id||2},checkboxSelection:!0,disableRowSelectionOnClick:!0})})}},31063:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});o(99876);var n=o(72791),r=o(64554),i=o(94721),a=o(4942),l=o(1413),c=o(29439),d=o(55375),u=o(95966),s=o(59434),h=o(96077),f=(o(61044),o(21830)),g=o.n(f),m=o(57689),p=o(80184);function v(){var e=(0,m.s0)(),t=(0,s.I0)(),o=(0,n.useState)({}),i=(0,c.Z)(o,2),f=(i[0],i[1]),v=(0,n.useState)([]),w=(0,c.Z)(v,2),b=w[0],x=w[1],y=(0,n.useState)([]),_=(0,c.Z)(y,2),j=(_[0],_[1],(0,s.v9)((function(e){return e})),(0,s.v9)((function(e){return e})),[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"First name",width:150,editable:!0,sortable:!1,valueGetter:function(e){return"".concat(e.row.name||"")}},{field:"product_catagory",headerName:"Product Catagory",width:150,editable:!0,sortable:!1,valueGetter:function(e){return"".concat(e.row.category||"")}},{field:"description",headerName:"Description",type:"number",width:160,editable:!0,sortable:!1,valueGetter:function(e){return"".concat(e.row.description||"")}},{field:"price",headerName:"Price",description:"This column has a value getter and is not sortable.",type:"number",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.row.price||"")}},{field:"offer_price",headerName:"Offer Price",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.row.offer_price||"")}},{field:"features_image",headerName:"Features Image",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.row.features_image||"")},renderCell:function(e){return(0,p.jsx)("img",{src:e.row.features_image,width:50,height:50})}},{field:"category_id",headerName:"Category id",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.row.category_id||"")}},{field:"actions",headerName:"Actions",width:100,sortable:!1,renderCell:function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(d.wg,{onClick:function(){return k(e.id)},style:{cursor:"pointer"}})})})}},{field:"Edit",headerName:"Actions",width:100,sortable:!1,renderCell:function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Fragment,{children:(0,p.jsx)("span",{onClick:function(){return S(e.id)},style:{cursor:"pointer"},children:"Edit"})})})}}]),k=function(e){t((0,h.hF)(e)),console.log("Delete row with ID: ".concat(e)),N()},S=function(t){console.log(t),e("/dashboard/editproduct/".concat(t))};(0,n.useEffect)((function(){N()}),[]);var C,N=function(){var e={method:"POST",body:{},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/list-product",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");e?([].push(e.message),x(e.message),console.log({res:e})):g().fire({title:"Product Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})}))},I=(C=b,console.log(C,"data"),C&&Array.isArray(C)&&C.length>0?C.map((function(e){return console.log("hopppeee",e),{id:(null===e||void 0===e?void 0:e.id)||Math.floor((new Date).getTime()),name:null===e||void 0===e?void 0:e.name,offer_price:null===e||void 0===e?void 0:e.offer_price,product_type:null===e||void 0===e?void 0:e.product_type,price:null===e||void 0===e?void 0:e.price,quantity:null===e||void 0===e?void 0:e.quantity,description:null===e||void 0===e?void 0:e.description,image_url:e.image_url,sku:e.sku,actions:e.id}})):[]);return console.log(b),(0,p.jsxs)(r.Z,{sx:{height:400,width:"100%"},children:[console.log(b,"productInfo"),(0,p.jsx)(u._$,{rows:(null===b||void 0===b?void 0:b.length)>0?b:I,columns:j,onEditCellChange:function(e){console.log("editing"),console.log(e),f((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,a.Z)({},e.id,e))}))},getRowId:function(e){return console.log("Logging in getRowId",e),null===e||void 0===e?void 0:e.id},checkboxSelection:!0,disableRowSelectionOnClick:!0})]})}var w=function(){return(0,p.jsx)("div",{children:(0,p.jsxs)(r.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,p.jsx)("h2",{children:"Product List"}),(0,p.jsx)(i.Z,{style:{marginTop:20,marginBottom:20}}),(0,p.jsx)(v,{})]})})}}}]);
//# sourceMappingURL=1063.9b71a53a.chunk.js.map