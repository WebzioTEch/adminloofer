"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[5378],{85378:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var i=n(72791),r=n(64554),a=n(94721),o=n(29439),l=n(94294),s=n(61889),d=n(95966),c=(n(96077),n(59434)),u=(n(61044),n(21830)),h=n.n(u),p=n(57689),g=n(80184);function f(){var e=(0,p.s0)(),t=((0,c.I0)(),(0,i.useState)(null)),n=(0,o.Z)(t,2),a=n[0],u=n[1],f=(0,i.useState)(""),m=(0,o.Z)(f,2),x=m[0],b=m[1],y=((0,c.v9)((function(e){return e.home.token})),(0,i.useState)([])),j=(0,o.Z)(y,2),w=j[0],v=j[1],Z=(0,i.useState)([]),k=(0,o.Z)(Z,2);k[0],k[1];(0,i.useEffect)((function(){S()}),[]);var C,S=function(){var e=new FormData;e.append("image",a),e.append("description",x);var t={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/banners",t).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];e?(e.map((function(e){t.push(e)})),v(t)):h().fire({title:"Banner Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:e})})).catch((function(e){console.error({err:e})}))},B=(C=w,console.log(C,"data"),C&&Array.isArray(C)&&C.length>0?C.map((function(e){return{id:(null===e||void 0===e?void 0:e.id)||Math.floor((new Date).getTime()),description:null===e||void 0===e?void 0:e.description,image:e.image_url}})):[]),T=[{field:"id",headerName:"ID",width:90},{field:"image",headerName:"Image",width:300,height:300,editable:!0,renderCell:function(e){return console.log("params",e),(0,g.jsx)("img",{src:e.row.image_url,style:{height:50}})}},{field:"description",headerName:"Description",width:300,height:300,editable:!0},{field:"action",headerName:"Action",width:300,editable:!0,renderCell:function(t){return console.log("cellValues",t),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.Z,{style:{display:"flex",justifyContent:"space-between"},children:(0,g.jsx)(l.Z,{variant:"contained",color:"primary",style:{marginLeft:10},onClick:function(e){var n={method:"DELETE",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/banners/"+t.id,n).then((function(e){return e.json()})).then((function(e){console.log(e);e?(h().fire({title:"Banner Status",text:"Delete Banner",icon:"success"}),S()):h().fire({title:"Banner Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:e})}))},children:"Delete"})}),(0,g.jsx)(r.Z,{style:{display:"flex",justifyContent:"space-between"},children:(0,g.jsx)(l.Z,{variant:"contained",color:"warning",style:{marginLeft:10},onClick:function(n){localStorage.setItem("editBanner",JSON.stringify(null===t||void 0===t?void 0:t.row)),setTimeout((function(){e("/dashboard/addbanner")}),2e3)},children:"Edit"})})]})}}];return(0,g.jsxs)(r.Z,{sx:{height:400,width:"100%"},children:[(0,g.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,g.jsx)("input",{name:"image",type:"file",value:void 0,onChange:function(e){u(e.target.files[0])},style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,g.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,g.jsx)("input",{name:"description",type:"text",onChange:function(e){return b(e.target.value)},style:{padding:10,width:"100%",borderRadius:5,border:"1px solid",marginTop:10},inputProps:{style:{padding:12}}})}),(0,g.jsx)(s.ZP,{item:!0,xs:12,lg:3,children:(0,g.jsx)(l.Z,{type:"button",style:{background:"rgb(25, 118, 210)",color:"white",marginTop:30,borderRadius:5,width:"100%"},onClick:S,children:"Get Banners"})}),(0,g.jsx)(d._$,{rows:w.length>0?w:B,columns:T,getRowId:function(e){return e.id},checkboxSelection:!0,disableRowSelectionOnClick:!0})]})}var m=function(){return(0,g.jsx)("div",{children:(0,g.jsxs)(r.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,g.jsx)("h2",{children:"Banner List"}),(0,g.jsx)(a.Z,{style:{marginTop:20,marginBottom:20}}),(0,g.jsx)(f,{})]})})}}}]);
//# sourceMappingURL=5378.0f09ebbd.chunk.js.map