"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[1830],{72965:function(e,t,n){var r=n(29439),o=n(72791),a=n(55705),i=n(64554),s=n(94721),d=n(61889),l=n(94294),c=(n(61044),n(26727)),u=n(57689),p=n(21830),h=n.n(p),x=n(80184);t.Z=function(e){var t=e.faqData,n=e.mode,p=e.onSuccess,g=e.onCancel,f=e.successMsg,m=((0,u.s0)(),(0,o.useState)("")),b=(0,r.Z)(m,2),w=b[0],v=b[1],j={question:(null===t||void 0===t?void 0:t.question)||"",answer:(null===t||void 0===t?void 0:t.answer)||""};(0,o.useEffect)((function(){t&&(console.log(t,"faqData"),t.faqData?(console.log(t.faqData,"faqDatafaqData"),console.log("true faq")):console.log("false faq"))}),[t]);var y=(0,o.useState)({question:"",answer:""}),Z=(0,r.Z)(y,2),q=(Z[0],Z[1],c.Ry({question:c.Z_().required("Question is required"),answer:c.Z_().required("Answer is required")}));return(0,x.jsx)(a.J9,{initialValues:j,validationSchema:q,onSubmit:"edit"===n?p:function(e,t){var n=t.resetForm;setTimeout((function(){v("")}),2e3);try{var r=new FormData;r.append("question",e.question),r.append("answer",e.answer);var o={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:r};fetch("https://loofer.bellazza.in/api/admin/faq",o).then((function(e){200===e.status?(v("FAQ added successfully"),n(),h().fire({title:"FAQ Status",text:"FAQ created",icon:"success"})):h().fire({title:"FAQ Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:e})})).catch((function(e){console.error({err:e})}))}catch(a){console.error("Error:",a)}},children:function(e){var t=e.errors;e.setFieldValue;return(0,x.jsx)(a.l0,{children:(0,x.jsx)(i.Z,{style:{padding:10},children:(0,x.jsxs)(i.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,x.jsx)("h2",{children:"edit"===n?"Edit FAQ":"Add New FAQ"}),(0,x.jsx)(s.Z,{style:{marginTop:20,marginBottom:20}}),(0,x.jsxs)(d.ZP,{container:!0,style:{padding:10},spacing:4,children:[w?(0,x.jsx)("div",{style:{color:"green",marginBottom:10},children:w}):f&&(0,x.jsx)("div",{style:{color:"green",marginBottom:10},children:f}),(0,x.jsxs)(d.ZP,{item:!0,xs:12,lg:12,children:[(0,x.jsx)(a.gN,{name:"question",type:"text",placeHolder:"Question",style:{padding:10,width:"100%",borderRadius:5,border:null!==t&&void 0!==t&&t.question?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,x.jsx)("br",{}),(0,x.jsx)(a.Bc,{name:"question",component:"div",style:{color:"red",fontSize:12}})]}),(0,x.jsxs)(d.ZP,{item:!0,xs:12,lg:12,children:[(0,x.jsx)(a.gN,{name:"answer",type:"text",placeHolder:"Answer",style:{padding:10,width:"100%",borderRadius:5,border:null!==t&&void 0!==t&&t.answer?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,x.jsx)("br",{}),(0,x.jsx)(a.Bc,{name:"answer",component:"div",style:{color:"red",fontSize:12}})]}),"edit"===n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.ZP,{item:!0,xs:6,lg:3,children:(0,x.jsx)(l.Z,{type:"submit",style:{background:"rgb(25, 118, 210)",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Update"})}),(0,x.jsx)(d.ZP,{item:!0,xs:6,lg:3,children:(0,x.jsx)(l.Z,{type:"button",onClick:g,style:{background:"rgb(25, 118, 210)",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Cancle"})})]}):(0,x.jsx)(d.ZP,{item:!0,xs:12,lg:3,children:(0,x.jsx)(l.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Submit"})})]})]})})})}})}},91830:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(72791),o=n(64554),a=n(94721),i=n(29439),s=n(1413),d=n(66934),l=n(91478),c=n(41473),u=n(55818),p=n(3721),h=n(61044),x=(n(72965),n(95966)),g=n(94294),f=n(21830),m=n.n(f),b=n(80184);(0,d.ZP)((function(e){return(0,b.jsx)(c.Z,(0,s.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),(0,d.ZP)((function(e){return(0,b.jsx)(u.Z,(0,s.Z)({expandIcon:(0,b.jsx)(l.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),(0,d.ZP)(p.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));function w(){var e=r.useState("panel1"),t=(0,i.Z)(e,2),n=(t[0],t[1],(0,r.useState)([])),a=(0,i.Z)(n,2),s=a[0],d=a[1],l=(0,r.useState)(null),c=(0,i.Z)(l,2),u=(c[0],c[1]),p=(0,r.useState)(!1),f=(0,i.Z)(p,2),w=(f[0],f[1],(0,r.useState)("")),v=(0,i.Z)(w,2),j=v[0],y=v[1],Z=new FormData,q={question:"",answer:"",_method:"PUT"};(0,r.useEffect)((function(){u(null),z()}),[]);var S,A=[{field:"id",headerName:"ID",width:90},{field:"question",headerName:"Question",width:150,editable:!0},{field:"answer",headerName:"Answer",width:110,editable:!0},{field:"editFaq",headerName:"Edit FAQ",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,renderCell:function(e){return(0,b.jsx)(g.Z,{onClick:function(t){Z.append("_method","PUT");var n={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:Z};fetch("https://loofer.bellazza.in/api/admin/faq/"+e.id,n).then((function(e){200===e.status&&m().fire("Success","Edit success full","success")})).catch((function(e){console.error({err:e})}))},style:{backgroundColor:"lightblue",border:"none",cursor:"pointer"},children:"Edit"})}},{field:"deleteFaq",headerName:"Delete FAQ",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,renderCell:function(e){return(0,b.jsx)(g.Z,{variant:"contained",color:"primary",onClick:function(){return k(e.row.id)},style:{backgroundColor:"salmon",border:"none",cursor:"pointer"},children:"Delete"})}}],k=function(e){setTimeout((function(){y("")}),2e3);try{var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};h.ZP.post("https://loofer.bellazza.in/api/admin/faq/delete",{id:e},t).then((function(e){200===e.status&&(y("FAQ Deleted successfully"),z())})).catch((function(e){console.log("response error:",e)}))}catch(n){console.error("Error:",n)}},z=function(){try{var e={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};h.ZP.get("https://loofer.bellazza.in/api/admin/faq",e).then((function(e){200===e.status&&d(e.data.data)})).catch((function(e){console.error({err:e})}))}catch(t){console.error("Error:",t)}},F=(S=s,console.log(S,"data"),S&&Array.isArray(S)&&S.length>0?S.map((function(e){return{id:(null===e||void 0===e?void 0:e.id)||Math.floor((new Date).getTime()),question:null===e||void 0===e?void 0:e.question,answer:null===e||void 0===e?void 0:e.answer}})):[{id:1,name:"Snow",slug:"Jon",age:35,parent:"0"}]);return(0,b.jsxs)("div",{children:[j&&(0,b.jsx)("div",{style:{color:"green",marginBottom:10},children:j}),(0,b.jsx)(o.Z,{sx:{height:400,width:"100%"},children:(0,b.jsx)(x._$,{rows:F,columns:A,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0,editable:!0,onCellEditStop:function(e,t){console.log("jhhjhjhj",e),"question"==e.field?(Z.append("question",e.value),q.question=e.value):"answer"==e.field&&(Z.append("answer",e.value),q.answer=e.value)}})})]})}var v=function(){return(0,b.jsx)("div",{children:(0,b.jsxs)(o.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,b.jsx)("h2",{children:"FAQ List"}),(0,b.jsx)(a.Z,{style:{marginTop:20,marginBottom:20}}),(0,b.jsx)(w,{})]})})}},91478:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIosSharp");t.Z=i}}]);
//# sourceMappingURL=1830.39824762.chunk.js.map