"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[6817],{6817:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(74165),i=r(15861),o=r(29439),s=r(72791),a=r(55705),d=r(64554),l=r(94721),c=r(61889),p=r(94294),u=(r(61044),r(21830)),x=r.n(u),h=(r(763),r(80184)),g=function(){var e=(0,s.useState)(""),n=(0,o.Z)(e,2),r=n[0],u=n[1],g=(0,s.useState)(null),f=(0,o.Z)(g,2),m=f[0],b=f[1],j=(0,s.useState)(JSON.parse(String(localStorage.getItem("editBanner")))||null),y=(0,o.Z)(j,2),w=y[0],Z=(y[1],new FormData);(0,s.useEffect)((function(){}));var v=s.createRef(),S=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=n.target.files[0],console.log("fileToUpload",r),b(r),u(null===r||void 0===r?void 0:r.name);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(a.J9,{initialValues:{image:"",description:(null===w||void 0===w?void 0:w.description)||"",url:""},onSubmit:function(e){!function(e,n){Z.append("description",e.description),Z.append("url",e.url),m&&Z.append("image",m),w&&(Z.append("id",w.id),Z.append("status",1)),console.log("formData",Z.get("image"));var r={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:Z};fetch("https://loofer.bellazza.in/api/admin/banners",r).then((function(e){console.log(e),201==e.status?(x().fire({title:"Banner Saved",text:"You can close this window",icon:"success"}),window.location.href="/dashboard/bannerlist"):x().fire({title:"Banner Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){e&&x().fire({title:"Banner Status",text:null===e||void 0===e?void 0:e.message,icon:"error"}),console.error({err:e})}))}(e)},children:function(e){var n=e.errors;e.setFieldValue;return(0,h.jsx)(a.l0,{children:(0,h.jsx)(d.Z,{style:{padding:10},children:(0,h.jsxs)(d.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,h.jsx)("h2",{children:"Add New Banner"}),(0,h.jsx)(l.Z,{style:{marginTop:20,marginBottom:20}}),(0,h.jsxs)(c.ZP,{container:!0,style:{padding:10},spacing:4,children:[(0,h.jsx)(c.ZP,{item:!0,xs:12,lg:6,children:(0,h.jsxs)(d.Z,{mt:1,mb:1,sx:{border:"1px dashed #E61855",background:"#FDF5F7",borderRadius:5,"& .MuiInput-underline:before":{borderBottom:"none"}},onClick:function(){return v.current.click()},children:[(0,h.jsx)(d.Z,{display:"flex",alignItems:"center",justifyContent:"center",style:{padding:62},children:(0,h.jsxs)(d.Z,{display:"flex",justifyContent:"space-between",children:[(0,h.jsx)("span",{one:!0,style:{color:"rgba(0, 50, 91, 0.5)",fontWeight:600},children:r||"Drag and drop or"}),(0,h.jsx)("span",{style:{color:"#E61855",marginLeft:5},children:"Browse"})]})}),(0,h.jsx)("input",{ref:v,type:"file",accept:"image/*",hidden:!0,onChange:S})]})}),(0,h.jsxs)(c.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(a.gN,{name:"description",type:"text",placeholder:"Description",style:{padding:10,width:"100%",borderRadius:5,border:n.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),n.description?(0,h.jsx)("span",{style:{color:"red",fontSize:12},children:n.description}):null]}),(0,h.jsxs)(c.ZP,{item:!0,xs:12,lg:6,children:[(0,h.jsx)(a.gN,{name:"url",type:"text",placeholder:"https:// or http://",style:{padding:10,width:"100%",borderRadius:5,border:n.url?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,h.jsx)("br",{}),n.url?(0,h.jsx)("span",{style:{color:"red",fontSize:12},children:n.url}):null]}),(0,h.jsx)(c.ZP,{item:!0,xs:12,lg:3,children:(0,h.jsx)(p.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Upload"})})]})]})})})}})},f=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(g,{})})}}}]);
//# sourceMappingURL=6817.a2897c67.chunk.js.map