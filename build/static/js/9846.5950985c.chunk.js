"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[9846],{92201:function(e,r,t){var i=t(29439),o=t(72791),n=t(55705),d=t(64554),s=t(94721),a=t(61889),l=t(94294),c=t(59434),p=t(26727),u=(t(96077),t(61044)),x=t(21830),g=t.n(x),m=t(57689),y=t(80184);r.Z=function(){var e=(0,m.s0)(),r=((0,c.I0)(),(0,o.useState)(null)),t=(0,i.Z)(r,2),x=(t[0],t[1],(0,o.useState)(JSON.parse(String(localStorage.getItem("category_list")))||[])),f=(0,i.Z)(x,2),h=f[0],j=f[1],v=((0,c.v9)((function(e){return e.home.token})),(0,o.useState)(null)),b=(0,i.Z)(v,2),_=b[0],S=b[1],Z=(0,o.useState)([]),P=(0,i.Z)(Z,2),z=P[0],q=P[1],w=(0,o.useState)(""),k=(0,i.Z)(w,2),R=k[0],T=k[1],B=(0,o.useState)({name:"",product_type:"",description:"",sku:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null}),N=(0,i.Z)(B,2),C=(N[0],N[1],(0,o.useState)(JSON.parse(String(localStorage.getItem("product_list")))||[])),I=(0,i.Z)(C,2);I[0],I[1];(0,o.useEffect)((function(){E()}));var A=function(r,t){setTimeout((function(){T("")}),2e3);try{console.log(_,"img");var i=new FormData;i.append("name",r.name),i.append("product_type",1),i.append("description",r.description),i.append("price",r.price),i.append("offer_price",r.offer_price),i.append("category_id[]",r.category_id),i.append("features_image",_),i.append("stock",r.stock),i.append("size","L"),i.append("attribute_value_id[]",r.size);var o={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};u.ZP.post("https://loofer.bellazza.in/api/admin/product_create",i,o).then((function(r){200==r.status?(T("Product added successfully"),g().fire({title:"Product Status",text:"Product added successfully",icon:"success"}),setTimeout((function(){e("/dashboard/productlist")}),1e3)):g().fire({title:"Product Status",text:"You are not authorized as admin",icon:"error"}),console.log({res:r})})).catch((function(e){console.error({err:e})}))}catch(n){console.error("Error:",n)}},E=(p.Ry({name:p.Z_().required("name is required"),product_type:p.Z_().required("product_type is required"),description:p.Z_().required("description is required"),sku:p.Rx().required("sku is required"),category:p.Z_().required("category is required"),price:p.Rx().required("price is required"),offer_price:p.Rx().required("offer_price is required"),quantity:p.Rx().required("quantity is required"),category_id:p.Rx().required("category_id is required")}),function(){var e={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(localStorage.getItem("token"))}};fetch("https://loofer.bellazza.in/api/admin/categories",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.map((function(e){r.push(e)})),j(r),console.log({res:e})):g().fire({title:"Category Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})})),fetch("https://loofer.bellazza.in/api/admin/get_all_attributes",e).then((function(e){return e.json()})).then((function(e){console.log(e,"res reeees");var r=[];e?(e.data.map((function(e){"size"==(null===e||void 0===e?void 0:e.type)&&r.push(e)})),q(r),console.log({res:e})):g().fire({title:"Attribute Status",text:"You are not authorized as admin",icon:"error"})})).catch((function(e){console.error({err:e})}))});return console.log("dataArray",h),(0,y.jsx)(n.J9,{initialValues:{name:"",product_type:"",description:"",stock:"",size:"",category:"",price:"",offer_price:"",quantity:"",category_id:"",features_image:null},onSubmit:function(e){for(var r=0;r<1;r++)A(e)},children:function(e){var r=e.errors;e.setFieldValue;return(0,y.jsx)(n.l0,{encType:"multipart/form-data",children:(0,y.jsx)(d.Z,{style:{padding:10},children:(0,y.jsxs)(d.Z,{style:{boxShadow:"rgba(0, 0, 0, 0.06) 0px 3px 3px -2px, rgba(0, 0, 0, 0.04) 0px 3px 4px 0px, rgba(0, 0, 0, 0.04) 0px 1px 8px 0px",padding:30,background:"white"},children:[(0,y.jsx)("h2",{children:"Add New Product"}),(0,y.jsx)(s.Z,{style:{marginTop:20,marginBottom:20}}),(0,y.jsxs)(a.ZP,{container:!0,style:{padding:10},spacing:4,children:[R&&(0,y.jsx)("div",{style:{color:"green",marginBottom:10},children:R}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"name",type:"text",placeholder:"Name",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.name?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"name",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"product_type",type:"text",placeholder:"product Code",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.product_type?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"product_type",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"description",as:"textarea",rows:"10",type:"text",placeholder:"description",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.description?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"description",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"stock",type:"text",placeholder:"Stock",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.stock?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"stock",component:"div",style:{color:"red",fontSize:12}})]}),console.log("attributes",z),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsxs)(n.gN,{name:"size",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.size?"2px solid red":"1px solid",marginTop:10},children:[(0,y.jsx)("option",{value:""}),z.map((function(e){return(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))]}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"price",type:"text",placeholder:"PRICE",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"price",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"offer_price",type:"text",placeholder:"Sale Price",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.offer_price?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"offer_price",component:"div",style:{color:"red",fontSize:12}})]})," ",(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)(n.gN,{name:"quantity",type:"text",placeholder:"Quantity",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.quantity?"2px solid red":"1px solid",marginTop:10},inputProps:{style:{padding:12}}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"quantity",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsxs)(n.gN,{name:"category_id",as:"select",style:{padding:10,width:"100%",borderRadius:5,border:null!==r&&void 0!==r&&r.category_id?"2px solid red":"1px solid",marginTop:10},children:[(0,y.jsx)("option",{value:"",children:"Select"}),h.map((function(e){var r;return(0,y.jsxs)("option",{value:e.id,children:[e.name," (",null===e||void 0===e||null===(r=e.parent)||void 0===r?void 0:r.name,")"]})}))]}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"category_id",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsxs)(a.ZP,{item:!0,xs:12,lg:6,children:[(0,y.jsx)("input",{name:"features_image",type:"file",value:void 0,onChange:function(e){S(e.target.files[0])}}),(0,y.jsx)("br",{}),(0,y.jsx)(n.Bc,{name:"features_image",component:"div",style:{color:"red",fontSize:12}})]}),(0,y.jsx)(a.ZP,{item:!0,xs:12,lg:6}),(0,y.jsx)(a.ZP,{item:!0,xs:12,lg:3,children:(0,y.jsx)(l.Z,{type:"submit",style:{background:"red",color:"white",marginTop:30,borderRadius:5,width:"100%"},children:"Save"})})]})]})})})}})}},59846:function(e,r,t){t.r(r);t(72791);var i=t(92201),o=t(80184);r.default=function(){return(0,o.jsx)("div",{children:(0,o.jsx)(i.Z,{})})}}}]);
//# sourceMappingURL=9846.5950985c.chunk.js.map